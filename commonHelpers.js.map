{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nconst startButton = document.querySelector(\"button[data-start]\");\nconst myInput = document.querySelector(\"#datetime-picker\");\nconst daysInTimer = document.querySelector(\"span[data-days\");\nconst hoursInTimer = document.querySelector(\"span[data-hours]\");\nconst minutesInTimer  = document.querySelector(\"span[data-minutes]\");\nconst secondsInTimer  = document.querySelector(\"span[data-seconds]\");\nconst body = document.querySelector(\"body\");\n\nstartButton.setAttribute(\"disabled\", \"\");\n\nlet userSelectedDate;\n\nlet alertBox = document.createElement('div');\n  alertBox.style.padding = '0';\n  alertBox.style.border = 'none';\n  alertBox.style.borderRadius = '4px';\n  alertBox.style.backgroundColor = '#EF4040';\n  alertBox.style.color = '#fff'\n  alertBox.style.position = 'absolute';\n  alertBox.style.top = '50%';\n  alertBox.style.left = '450%';\n  alertBox.style.transform = 'translate(-50%, -50%)';\n  alertBox.style.zIndex = '9999';\n  alertBox.innerText = 'Please choose a date in the future';\n  alertBox.style.display = 'flex';\n  alertBox.style.justifyContent = 'space-evenly';\n  alertBox.style.alignItems = 'center';\n  alertBox.style.height = '64px';\n  alertBox.style.width = '300px';\n\nlet closeButton = document.createElement('button');\n  closeButton.style.border = 'none';\n  closeButton.style.backgroundColor = '#EF4040';\n  closeButton.style.marginLeft = '10px';\n  closeButton.style.display = 'flex';\n  closeButton.style.padding = '0';\n  closeButton.style.width = 'auto';\n  closeButton.style.height = 'auto';\n  closeButton.insertAdjacentHTML(\"beforeend\", '<svg width=12 height=12><use href=\"../img/sprite.svg#icon-Vector\"></use></svg>');\n  closeButton.onclick = function() {       \n  closeButton.remove();\n  alertBox.remove();\n};\n    \nfunction customAlert() {  \n  alertBox.appendChild(closeButton);\n    startButton.appendChild(alertBox);\n}\n\nconst fp = flatpickr(myInput, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  dateFormat: \"Y-m-d H-i\",\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n      console.log(selectedDates[0]);\n      if (selectedDates[0] < new Date()) {\n          customAlert();\n      } else {         \n          userSelectedDate = selectedDates[0].getTime();\n          startButton.removeAttribute(\"disabled\");\n          closeButton.remove();\n          alertBox.remove();\n    };\n  },\n});\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n    return `${value}`.padStart(2, '0');\n}\n\nstartButton.addEventListener(\"click\", () => {\n    startButton.setAttribute(\"disabled\", \"\");\n    myInput.setAttribute(\"disabled\", \"\");\n  const  interval = setInterval(() => {\n      let residue = userSelectedDate - new Date();\n      const convertation = convertMs(residue);\n        secondsInTimer.textContent = addLeadingZero(convertation.seconds);\n        minutesInTimer.textContent = addLeadingZero(convertation.minutes);\n      hoursInTimer.textContent = addLeadingZero(convertation.hours);\n      daysInTimer.textContent = addLeadingZero(convertation.days);\n        if (residue < 1000) {\n          clearInterval(interval);\n          myInput.removeAttribute(\"disabled\");\n            return;\n        }\n    }, 1000);\n})\n"],"names":["startButton","myInput","daysInTimer","hoursInTimer","minutesInTimer","secondsInTimer","userSelectedDate","alertBox","closeButton","customAlert","flatpickr","selectedDates","convertMs","ms","days","hours","minutes","seconds","addLeadingZero","value","interval","residue","convertation"],"mappings":"oGACA,MAAMA,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAU,SAAS,cAAc,kBAAkB,EACnDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAe,SAAS,cAAc,kBAAkB,EACxDC,EAAkB,SAAS,cAAc,oBAAoB,EAC7DC,EAAkB,SAAS,cAAc,oBAAoB,EACtD,SAAS,cAAc,MAAM,EAE1CL,EAAY,aAAa,WAAY,EAAE,EAEvC,IAAIM,EAEAC,EAAW,SAAS,cAAc,KAAK,EACzCA,EAAS,MAAM,QAAU,IACzBA,EAAS,MAAM,OAAS,OACxBA,EAAS,MAAM,aAAe,MAC9BA,EAAS,MAAM,gBAAkB,UACjCA,EAAS,MAAM,MAAQ,OACvBA,EAAS,MAAM,SAAW,WAC1BA,EAAS,MAAM,IAAM,MACrBA,EAAS,MAAM,KAAO,OACtBA,EAAS,MAAM,UAAY,wBAC3BA,EAAS,MAAM,OAAS,OACxBA,EAAS,UAAY,qCACrBA,EAAS,MAAM,QAAU,OACzBA,EAAS,MAAM,eAAiB,eAChCA,EAAS,MAAM,WAAa,SAC5BA,EAAS,MAAM,OAAS,OACxBA,EAAS,MAAM,MAAQ,QAEzB,IAAIC,EAAc,SAAS,cAAc,QAAQ,EAC/CA,EAAY,MAAM,OAAS,OAC3BA,EAAY,MAAM,gBAAkB,UACpCA,EAAY,MAAM,WAAa,OAC/BA,EAAY,MAAM,QAAU,OAC5BA,EAAY,MAAM,QAAU,IAC5BA,EAAY,MAAM,MAAQ,OAC1BA,EAAY,MAAM,OAAS,OAC3BA,EAAY,mBAAmB,YAAa,gFAAgF,EAC5HA,EAAY,QAAU,UAAW,CACjCA,EAAY,OAAM,EAClBD,EAAS,OAAM,CACjB,EAEA,SAASE,GAAc,CACrBF,EAAS,YAAYC,CAAW,EAC9BR,EAAY,YAAYO,CAAQ,CACpC,CAEWG,EAAUT,EAAS,CAC5B,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,WAAY,YACZ,gBAAiB,EACjB,QAAQU,EAAe,CACnB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EACxBA,EAAc,CAAC,EAAI,IAAI,KACvBF,KAEAH,EAAmBK,EAAc,CAAC,EAAE,QAAO,EAC3CX,EAAY,gBAAgB,UAAU,EACtCQ,EAAY,OAAM,EAClBD,EAAS,OAAM,EAEtB,CACH,CAAC,EAED,SAASK,EAAUC,EAAI,CAMrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASC,EAAeC,EAAO,CAC3B,MAAO,GAAGA,CAAK,GAAG,SAAS,EAAG,GAAG,CACrC,CAEAnB,EAAY,iBAAiB,QAAS,IAAM,CACxCA,EAAY,aAAa,WAAY,EAAE,EACvCC,EAAQ,aAAa,WAAY,EAAE,EACrC,MAAOmB,EAAW,YAAY,IAAM,CAChC,IAAIC,EAAUf,EAAmB,IAAI,KACrC,MAAMgB,EAAeV,EAAUS,CAAO,EAKpC,GAJAhB,EAAe,YAAca,EAAeI,EAAa,OAAO,EAChElB,EAAe,YAAcc,EAAeI,EAAa,OAAO,EAClEnB,EAAa,YAAce,EAAeI,EAAa,KAAK,EAC5DpB,EAAY,YAAcgB,EAAeI,EAAa,IAAI,EACpDD,EAAU,IAAM,CAClB,cAAcD,CAAQ,EACtBnB,EAAQ,gBAAgB,UAAU,EAChC,MACH,CACJ,EAAE,GAAI,CACX,CAAC"}